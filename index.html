<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta name="theme-color" content="#0a0a0a"/>
<meta name="description" content="Kosala Daneshwara Athapaththu - Software Engineer Portfolio"/>
<title>Kosala Daneshwara | Software Engineer</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>

<style>
/* ===================== RESET + THEME ===================== */
*{margin:0;padding:0;box-sizing:border-box}
:root{
  --primary:#7c3aed;--secondary:#06b6d4;--accent:#f59e0b;
  --dark:#0a0a0a;--card:#111;--gray:#94a3b8;--text:#fff;
  --shadow:0 30px 80px rgba(0,0,0,.5);
  --glass:rgba(17,17,17,.75);
  --border:rgba(255,255,255,.10);
  --radius:24px;
}

html{scroll-behavior:smooth}
body{
  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
  background:var(--dark);
  color:var(--text);
  line-height:1.6;
  overflow-x:hidden;
}

/* ===================== ACCESSIBILITY ===================== */
:focus-visible{outline:3px solid rgba(6,182,212,.8);outline-offset:3px;border-radius:12px}
a{color:inherit}

/* ===================== BACKGROUND (lighter + smooth) ===================== */
.bg-canvas{
  position:fixed;inset:0;z-index:-3;
  background:
    radial-gradient(circle at 15% 25%,rgba(124,58,237,.16) 0%,transparent 52%),
    radial-gradient(circle at 85% 80%,rgba(6,182,212,.16) 0%,transparent 55%),
    radial-gradient(circle at 55% 50%,rgba(245,158,11,.10) 0%,transparent 55%);
}
.grid-bg{
  position:fixed;inset:0;z-index:-2;
  background-image:
    linear-gradient(rgba(124,58,237,.035) 1px,transparent 1px),
    linear-gradient(90deg,rgba(124,58,237,.035) 1px,transparent 1px);
  background-size:56px 56px;
  animation:gridMove 22s linear infinite;
}
@keyframes gridMove{0%{transform:translate(0,0)}100%{transform:translate(56px,56px)}}

.shapes{position:fixed;inset:0;z-index:-1;pointer-events:none;overflow:hidden}
.orb{
  position:absolute;border-radius:50%;
  filter:blur(64px);opacity:.25;
  animation:orbFloat 16s infinite ease-in-out;
}
.orb1{width:340px;height:340px;background:var(--primary);top:8%;left:8%}
.orb2{width:420px;height:420px;background:var(--secondary);bottom:8%;right:8%;animation-delay:4s}
.orb3{width:280px;height:280px;background:var(--accent);top:55%;left:45%;animation-delay:8s}
@keyframes orbFloat{
  0%,100%{transform:translate(0,0) scale(1)}
  33%{transform:translate(48px,-40px) scale(1.15)}
  66%{transform:translate(-40px,42px) scale(.92)}
}

/* ===================== TOP PROGRESS BAR ===================== */
.progress{
  position:fixed;top:0;left:0;height:3px;width:0%;
  background:linear-gradient(90deg,var(--primary),var(--secondary),var(--accent));
  z-index:2500;
}

/* ===================== NAV ===================== */
nav{
  position:fixed;top:0;left:0;right:0;z-index:2000;
  background:rgba(10,10,10,.78);
  backdrop-filter:blur(18px);
  border-bottom:1px solid rgba(255,255,255,.06);
}
nav.scrolled{background:rgba(10,10,10,.92);box-shadow:0 10px 40px rgba(0,0,0,.45)}
.nav-container{
  max-width:1200px;margin:0 auto;padding:1rem 1.25rem;
  display:flex;align-items:center;justify-content:space-between;gap:.75rem;
}
.logo{
  font-size:1.15rem;font-weight:900;letter-spacing:-.5px;
  background:linear-gradient(135deg,var(--primary),var(--secondary));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;
  white-space:nowrap;
}
.nav-actions{display:flex;align-items:center;gap:.6rem}
.theme-toggle,.menu-toggle{
  width:46px;height:46px;border-radius:14px;
  display:flex;align-items:center;justify-content:center;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.06);
  cursor:pointer;transition:transform .22s;
}
.theme-toggle:hover,.menu-toggle:hover{transform:translateY(-2px)}
.theme-toggle i,.menu-toggle i{color:#fff;font-size:1.05rem}

.nav-links{
  list-style:none;display:flex;gap:2rem;align-items:center;
}
.nav-links a{
  text-decoration:none;font-weight:700;color:#fff;
  padding:.35rem 0;position:relative;opacity:.92;transition:.2s;
}
.nav-links a:hover{opacity:1}
.nav-links a::after{
  content:"";position:absolute;left:0;bottom:-6px;height:2px;width:0%;
  background:linear-gradient(90deg,var(--primary),var(--secondary));
  transition:width .25s;
}
.nav-links a:hover::after{width:100%}
.nav-links a.active{color:var(--secondary)}
.nav-links a.active::after{width:100%}

/* MOBILE NAV (better) */
@media (max-width:900px){
  .nav-links{
    position:fixed;top:72px;left:0;right:0;
    padding:1.25rem;
    background:rgba(10,10,10,.96);
    border-bottom:1px solid rgba(255,255,255,.08);
    display:grid;gap:.85rem;
    transform:translateY(-120%);
    transition:transform .25s ease;
  }
  .nav-links.active{transform:translateY(0)}
}

/* ===================== SECTIONS ===================== */
section{padding:5.5rem 1.25rem}
.section-container{max-width:1200px;margin:0 auto}
.section-header{text-align:center;margin-bottom:3rem}
.section-label{
  display:inline-block;padding:.45rem 1rem;
  background:rgba(124,58,237,.12);
  border:1px solid rgba(124,58,237,.32);
  border-radius:999px;color:var(--primary);
  font-weight:700;font-size:.82rem;letter-spacing:1px;text-transform:uppercase;
}
.section-header h2{
  margin-top:.9rem;font-size:2.3rem;font-weight:950;line-height:1.15;
  background:linear-gradient(135deg,var(--primary),var(--secondary));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;
}
.section-header p{color:var(--gray);max-width:720px;margin:.8rem auto 0}

/* ===================== HERO ===================== */
.hero{min-height:100vh;display:flex;align-items:center;padding:7rem 1.25rem 3rem}
.hero-container{
  max-width:1200px;margin:0 auto;
  display:grid;grid-template-columns:1.1fr .9fr;gap:2.25rem;align-items:center;
}
.hero-label{
  display:inline-flex;gap:.6rem;align-items:center;
  padding:.55rem 1rem;border-radius:999px;
  background:rgba(6,182,212,.12);
  border:1px solid rgba(6,182,212,.28);
  color:var(--secondary);font-weight:800;
}
.hero-label i{color:var(--secondary)}
.hero h1{
  margin-top:1rem;font-size:3.2rem;line-height:1.1;font-weight:950;
}
.gradient-text{
  background:linear-gradient(135deg,var(--primary),var(--secondary),var(--accent));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;
}
.hero p{color:var(--gray);margin-top:1rem;font-size:1.05rem;line-height:1.8}

.hero-stats{
  margin-top:1.75rem;
  display:grid;grid-template-columns:repeat(3,minmax(0,1fr));
  gap:1rem;
}
.stat{
  padding:1rem;border-radius:18px;
  background:rgba(255,255,255,.04);
  border:1px solid rgba(255,255,255,.08);
  text-align:center;
}
.stat-number{
  font-size:1.7rem;font-weight:950;
  background:linear-gradient(135deg,var(--primary),var(--secondary));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;
}
.stat-label{color:var(--gray);font-size:.88rem;margin-top:.2rem}

.hero-buttons{margin-top:1.75rem;display:flex;gap:.9rem;flex-wrap:wrap}
.btn{
  padding:.95rem 1.4rem;border-radius:999px;text-decoration:none;
  font-weight:800;display:inline-flex;align-items:center;gap:.65rem;
  border:none;cursor:pointer;transition:.25s;position:relative;overflow:hidden;
}
.btn-primary{
  background:linear-gradient(135deg,var(--primary),#6d28d9);
  color:#fff;box-shadow:0 12px 40px rgba(124,58,237,.38);
}
.btn-primary:hover{transform:translateY(-3px);box-shadow:0 18px 55px rgba(124,58,237,.48)}
.btn-secondary{
  background:rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.14);
  color:#fff;backdrop-filter:blur(10px);
}
.btn-secondary:hover{transform:translateY(-3px);background:rgba(255,255,255,.10)}
.btn-warning{
  background:linear-gradient(135deg,var(--accent),#fb923c);
  color:#0a0a0a;box-shadow:0 12px 38px rgba(245,158,11,.22);
}
.btn-warning:hover{transform:translateY(-3px);box-shadow:0 18px 58px rgba(245,158,11,.30)}

/* ===================== PROFILE CARD ===================== */
.card{
  background:var(--glass);
  border:1px solid var(--border);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  backdrop-filter:blur(18px);
}
.profile-card{padding:2rem;position:relative;overflow:hidden}
.profile-card::before{
  content:"";position:absolute;left:0;top:0;right:0;height:4px;
  background:linear-gradient(90deg,var(--primary),var(--secondary),var(--accent));
}
.profile-img{
  width:190px;height:190px;border-radius:50%;
  margin:0 auto 1.3rem;
  border:4px solid var(--primary);
  box-shadow:0 0 60px rgba(124,58,237,.55),0 0 90px rgba(6,182,212,.25);
  overflow:hidden;background:#111;display:flex;align-items:center;justify-content:center;
}
.profile-img img{width:100%;height:100%;object-fit:cover;object-position:45% 5%;transform:scale(1.12)}
.profile-img i{font-size:4.5rem;color:rgba(255,255,255,.18)}

.quick-actions{
  display:grid;grid-template-columns:repeat(3,minmax(0,1fr));
  gap:.75rem;margin:1rem 0 1.1rem;
}
.quick-actions a{
  padding:.75rem .7rem;border-radius:16px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(255,255,255,.04);
  text-decoration:none;font-weight:800;
  display:flex;align-items:center;justify-content:center;gap:.55rem;
  transition:.22s;font-size:.95rem;
}
.quick-actions a:hover{transform:translateY(-2px);border-color:rgba(6,182,212,.35)}
.quick-actions i{color:var(--secondary)}

.contact-grid{display:grid;gap:.75rem}
.contact-item{
  display:flex;align-items:center;gap:.85rem;padding:.9rem;
  border-radius:16px;background:rgba(255,255,255,.03);
  border:1px solid rgba(255,255,255,.06);transition:.22s;
}
.contact-item:hover{transform:translateX(6px);border-color:rgba(124,58,237,.35)}
.contact-item i{color:var(--primary);width:22px}
.contact-item a,.contact-item span{color:#fff;text-decoration:none;font-size:.95rem}

/* ===================== HIGHLIGHTS ===================== */
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
  gap:1rem;
}
.highlight-card{padding:1.5rem;border-radius:22px;transition:.25s}
.highlight-card:hover{transform:translateY(-8px);border-color:rgba(6,182,212,.35);box-shadow:0 26px 70px rgba(6,182,212,.18)}
.highlight-card h3{display:flex;gap:.65rem;align-items:center;font-size:1.15rem;margin-bottom:.35rem}
.highlight-card h3 i{color:var(--secondary)}
.highlight-card p{color:var(--gray)}

/* ===================== SKILLS (new: bars) ===================== */
.skills-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:1rem}
.skill-card{padding:1.7rem;border-radius:24px;transition:.25s}
.skill-card:hover{transform:translateY(-8px);border-color:rgba(124,58,237,.35)}
.skill-card h3{display:flex;align-items:center;gap:.65rem;margin-bottom:1rem;font-size:1.15rem}
.skill-card h3 i{color:var(--primary)}
.pills{list-style:none;display:flex;flex-wrap:wrap;gap:.6rem}
.pills li{
  padding:.55rem .85rem;border-radius:14px;
  background:rgba(255,255,255,.05);
  border:1px solid rgba(255,255,255,.10);
  font-size:.9rem;
}

.skill-bars{margin-top:1.1rem;display:grid;gap:.85rem}
.bar-row{display:grid;gap:.35rem}
.bar-top{display:flex;justify-content:space-between;color:var(--gray);font-weight:700;font-size:.9rem}
.track{
  height:10px;border-radius:999px;overflow:hidden;
  background:rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.10);
}
.fill{
  height:100%;width:0%;
  background:linear-gradient(90deg,var(--primary),var(--secondary));
  border-radius:999px;transition:width 1.1s ease;
}

/* ===================== PROJECTS (new: filter + search) ===================== */
.projects-top{
  display:flex;gap:.9rem;flex-wrap:wrap;align-items:center;justify-content:center;
  margin:-1rem 0 2rem;
}
.search{
  width:min(520px,100%);
  display:flex;align-items:center;gap:.65rem;
  background:rgba(255,255,255,.05);
  border:1px solid rgba(255,255,255,.10);
  border-radius:999px;
  padding:.8rem 1rem;
}
.search i{color:var(--secondary)}
.search input{
  width:100%;border:none;outline:none;background:transparent;color:#fff;
  font-size:1rem;
}
.filters{display:flex;gap:.6rem;flex-wrap:wrap;justify-content:center}
.chip{
  padding:.65rem .9rem;border-radius:999px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(255,255,255,.04);
  cursor:pointer;font-weight:800;transition:.2s;font-size:.92rem;
}
.chip.active{border-color:rgba(6,182,212,.45);background:rgba(6,182,212,.10);color:#dffcff}
.chip:hover{transform:translateY(-2px)}

.projects-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(310px,1fr));gap:1.25rem}
.project-card{
  padding:1.6rem;border-radius:24px;cursor:pointer;transition:.25s;
  position:relative;overflow:hidden;
}
.project-card:hover{transform:translateY(-10px);border-color:rgba(124,58,237,.35);box-shadow:0 34px 80px rgba(124,58,237,.22)}
.project-card::before{
  content:"";position:absolute;inset:0;
  background:linear-gradient(135deg,rgba(124,58,237,.12),rgba(6,182,212,.12));
  opacity:0;transition:.25s;
}
.project-card:hover::before{opacity:1}
.project-card > *{position:relative;z-index:1}
.project-number{
  position:absolute;top:1rem;right:1rem;
  font-size:2.6rem;font-weight:950;color:rgba(124,58,237,.12);
  z-index:1;
}
.project-card h3{font-size:1.2rem;margin-bottom:.45rem}
.project-tech{color:var(--secondary);font-weight:900;font-size:.9rem;margin-bottom:.8rem}
.project-card ul{list-style:none;color:var(--gray);display:grid;gap:.55rem;margin-bottom:1rem}
.project-card li{padding-left:1.35rem;position:relative}
.project-card li::before{content:"‚Üí";position:absolute;left:0;color:var(--primary);font-weight:950}
.project-actions{display:flex;gap:.6rem;flex-wrap:wrap}
.link{
  text-decoration:none;font-weight:900;
  display:inline-flex;align-items:center;gap:.55rem;
  color:var(--primary);
}
.link:hover{color:var(--secondary)}
.small-btn{
  padding:.6rem .9rem;border-radius:999px;
  background:rgba(255,255,255,.05);
  border:1px solid rgba(255,255,255,.10);
  text-decoration:none;font-weight:900;
  display:inline-flex;align-items:center;gap:.55rem;
}
.small-btn:hover{border-color:rgba(6,182,212,.35);transform:translateY(-2px)}

/* ===================== EDUCATION ===================== */
.timeline{position:relative;padding-left:2.2rem;max-width:900px;margin:0 auto}
.timeline::before{
  content:"";position:absolute;left:0;top:0;bottom:0;width:3px;
  background:linear-gradient(180deg,var(--primary),var(--secondary),var(--accent));
}
.edu-item{padding:1.6rem;border-radius:20px;margin-bottom:1.2rem;transition:.25s}
.edu-item:hover{transform:translateX(10px);border-color:rgba(124,58,237,.35)}
.edu-item::before{
  content:"";position:absolute;
}
.edu-title{font-size:1.15rem;font-weight:950}
.edu-school{color:var(--secondary);font-weight:900;margin-top:.25rem}
.edu-year{color:var(--gray);margin-top:.25rem}

/* ===================== CERTS ===================== */
.certs-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:1rem}
.cert-item{
  display:flex;gap:1rem;align-items:flex-start;
  padding:1.4rem;border-radius:20px;transition:.25s;
}
.cert-item:hover{transform:translateY(-6px);border-color:rgba(6,182,212,.35)}
.cert-item i{font-size:1.7rem;color:var(--secondary);margin-top:.2rem}
.cert-item strong{display:block;margin-bottom:.15rem}

/* ===================== CONTACT (new: better UX) ===================== */
.form-wrap{max-width:920px;margin:0 auto}
.form-card{padding:2rem;border-radius:26px}
.form-grid{display:grid;grid-template-columns:1fr 1fr;gap:1rem}
.form-group{display:flex;flex-direction:column;gap:.45rem}
.form-group label{color:var(--gray);font-weight:800}
.form-group input,.form-group textarea{
  padding:1rem;border-radius:16px;
  background:rgba(255,255,255,.05);
  border:1px solid rgba(255,255,255,.10);
  color:#fff;outline:none;
}
.form-group textarea{min-height:140px;resize:vertical}
.form-actions{margin-top:1rem;display:flex;gap:.8rem;flex-wrap:wrap}
.note{
  margin-top:1rem;padding:1rem;border-radius:16px;
  background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.10);
  color:var(--gray);
}

/* ===================== FOOTER ===================== */
footer{
  padding:3.2rem 1.25rem 2rem;
  background:rgba(10,10,10,.82);
  border-top:1px solid rgba(255,255,255,.06);
  backdrop-filter:blur(18px);
}
.footer-content{max-width:1200px;margin:0 auto;text-align:center}
.socials{display:flex;justify-content:center;gap:.8rem;flex-wrap:wrap;margin:1.2rem 0 1.4rem}
.socials a{
  width:56px;height:56px;border-radius:50%;
  display:flex;align-items:center;justify-content:center;
  border:2px solid rgba(124,58,237,.28);
  background:rgba(124,58,237,.10);
  transition:.25s;text-decoration:none;font-size:1.2rem;color:var(--primary);
}
.socials a:hover{transform:translateY(-7px);border-color:rgba(6,182,212,.35);color:#fff;background:rgba(6,182,212,.18)}
footer p{color:var(--gray)}
footer a{color:var(--secondary);text-decoration:none;font-weight:900}

/* ===================== MODAL (improved) ===================== */
.modal{
  position:fixed;inset:0;z-index:2600;
  background:rgba(0,0,0,.65);
  display:none;align-items:center;justify-content:center;
  padding:1.2rem;
}
.modal.active{display:flex}
.modal-card{
  width:min(1000px,100%);
  border-radius:22px;overflow:hidden;
  background:rgba(17,17,17,.94);
  border:1px solid rgba(255,255,255,.14);
  box-shadow:0 30px 90px rgba(0,0,0,.55);
}
.modal-top{
  display:flex;align-items:center;justify-content:space-between;
  padding:1rem 1.1rem;border-bottom:1px solid rgba(255,255,255,.10);
}
.modal-top h3{font-size:1.05rem}
.modal-close{
  border:none;background:transparent;color:#fff;
  font-size:1.35rem;cursor:pointer;
}
.modal-body{display:grid;grid-template-columns:1.25fr .75fr}
.modal-img{background:#000;min-height:340px;display:flex;align-items:center;justify-content:center}
.modal-img img{width:100%;height:100%;object-fit:cover;max-height:520px}
.modal-info{padding:1rem 1.1rem}
.modal-info p{color:var(--gray);line-height:1.75;margin:.5rem 0 1rem}
.badges{display:flex;flex-wrap:wrap;gap:.5rem}
.badges span{
  padding:.5rem .8rem;border-radius:999px;
  background:rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.12);
  font-weight:800;font-size:.85rem;
}
@media (max-width:900px){.modal-body{grid-template-columns:1fr}}

/* ===================== BACK TO TOP ===================== */
.to-top{
  position:fixed;right:18px;bottom:18px;z-index:2400;
  width:52px;height:52px;border-radius:16px;
  background:rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.14);
  display:flex;align-items:center;justify-content:center;
  cursor:pointer;opacity:0;pointer-events:none;transition:.25s;
  backdrop-filter:blur(12px);
}
.to-top.show{opacity:1;pointer-events:auto}
.to-top i{color:#fff}

/* ===================== LIGHT THEME ===================== */
body.light{
  background:#f6f7fb;color:#0b1220;
}
body.light nav{background:rgba(255,255,255,.78);border-bottom:1px solid rgba(0,0,0,.08)}
body.light nav.scrolled{background:rgba(255,255,255,.92)}
body.light .nav-links a{color:#0b1220}
body.light .theme-toggle i, body.light .menu-toggle i{color:#0b1220}
body.light .card{background:rgba(255,255,255,.76);border:1px solid rgba(0,0,0,.10);box-shadow:0 18px 60px rgba(0,0,0,.08)}
body.light .stat{background:rgba(0,0,0,.03);border:1px solid rgba(0,0,0,.08)}
body.light .highlight-card p,
body.light .section-header p,
body.light .hero p,
body.light .project-card ul,
body.light .edu-year,
body.light footer p,
body.light .note,
body.light .modal-info p,
body.light .bar-top{color:#52637a}
body.light .contact-item a, body.light .contact-item span{color:#0b1220}
body.light .search input{color:#0b1220}
body.light .modal-card{background:rgba(255,255,255,.95);border:1px solid rgba(0,0,0,.12)}
body.light .modal-close{color:#0b1220}

/* ===================== RESPONSIVE ===================== */
@media (max-width:1024px){
  .hero-container{grid-template-columns:1fr;text-align:center}
  .hero-stats{grid-template-columns:repeat(3,minmax(0,1fr))}
  .hero-buttons{justify-content:center}
  .profile-card{max-width:520px;margin:0 auto}
}
@media (max-width:560px){
  .hero h1{font-size:2.35rem}
  .hero-stats{grid-template-columns:1fr;gap:.75rem}
  .quick-actions{grid-template-columns:1fr}
  .form-grid{grid-template-columns:1fr}
}
</style>
</head>

<body>
<div class="progress" id="progress"></div>
<div class="bg-canvas"></div>
<div class="grid-bg"></div>
<div class="shapes">
  <div class="orb orb1"></div>
  <div class="orb orb2"></div>
  <div class="orb orb3"></div>
</div>

<nav id="navbar">
  <div class="nav-container">
    <div class="logo">Kosala D. Athapaththu</div>

    <ul class="nav-links" id="navLinks">
      <li><a href="#home" data-link>Home</a></li>
      <li><a href="#about" data-link>About</a></li>
      <li><a href="#highlights" data-link>Highlights</a></li>
      <li><a href="#skills" data-link>Skills</a></li>
      <li><a href="#projects" data-link>Projects</a></li>
      <li><a href="#education" data-link>Education</a></li>
      <li><a href="#certifications" data-link>Certifications</a></li>
      <li><a href="#contactFormSection" data-link>Contact</a></li>
    </ul>

    <div class="nav-actions">
      <button class="theme-toggle" id="themeToggle" title="Toggle theme" aria-label="Toggle theme">
        <i class="fas fa-moon"></i>
      </button>
      <button class="menu-toggle" id="menuToggle" title="Menu" aria-label="Toggle menu">
        <i class="fas fa-bars"></i>
      </button>
    </div>
  </div>
</nav>

<section class="hero" id="home">
  <div class="hero-container">
    <div>
      <div class="hero-label"><i class="fas fa-bolt"></i> Software Engineer</div>
      <h1>Hi, I'm <span class="gradient-text">Kosala Daneshwara</span> üëã</h1>
      <p>
        A passionate Software Engineering Undergraduate building <b>Full-Stack apps</b>, <b>Android apps</b>,
        <b>Microservices</b>, and <b>IoT systems</b> with clean UI + strong backend.
      </p>

      <div class="hero-stats">
        <div class="stat"><div class="stat-number">7+</div><div class="stat-label">Projects</div></div>
        <div class="stat"><div class="stat-number">10+</div><div class="stat-label">Technologies</div></div>
        <div class="stat"><div class="stat-number">18+</div><div class="stat-label">Certifications</div></div>
      </div>

      <div class="hero-buttons">
        <a href="#projects" class="btn btn-primary"><i class="fas fa-rocket"></i> View Projects</a>
        <a href="#contactFormSection" class="btn btn-secondary"><i class="fas fa-envelope"></i> Get In Touch</a>
        <a href="Kosala_CV.pdf" class="btn btn-warning" download><i class="fas fa-download"></i> Download CV</a>
      </div>
    </div>

    <div class="card profile-card">
      <div class="profile-img">
        <img src="cv_photo.jpg" alt="Kosala"
             onerror="this.parentElement.innerHTML='<i class=&quot;fas fa-user&quot;></i>'"/>
      </div>

      <div class="quick-actions">
        <a href="mailto:kosalaathapaththu1234@gmail.com"><i class="fas fa-envelope"></i> Email</a>
        <a href="https://wa.me/94719148762" target="_blank" rel="noopener"><i class="fab fa-whatsapp"></i> WhatsApp</a>
        <a href="https://github.com/kosaladathapththu" target="_blank" rel="noopener"><i class="fab fa-github"></i> GitHub</a>
      </div>

      <div class="contact-grid">
        <div class="contact-item"><i class="fas fa-phone"></i><span>+94 71 914 8762</span></div>
        <div class="contact-item"><i class="fas fa-map-marker-alt"></i><span>Colombo, Sri Lanka</span></div>
        <div class="contact-item"><i class="fab fa-linkedin"></i>
          <a href="https://www.linkedin.com/in/kosala-d-athapaththu-a453b9248/" target="_blank" rel="noopener">LinkedIn Profile</a>
        </div>
        <div class="contact-item"><i class="fab fa-telegram"></i>
          <a href="https://t.me/+94719148762" target="_blank" rel="noopener">Telegram</a>
        </div>
      </div>
    </div>
  </div>
</section>

<section id="about">
  <div class="section-container">
    <div class="section-header">
      <div class="section-label">About Me</div>
      <h2>Building The Future üöÄ</h2>
      <p>
        I‚Äôm a detail-oriented software engineering undergraduate with hands-on experience building web apps, Android apps,
        and microservices systems. I love clean code, strong databases, and scalable APIs.
      </p>
    </div>
    <div class="card" style="padding:1.6rem;border-radius:22px">
      <p style="color:var(--gray)">
      <i class="fa-solid fa-check"></i> Currently looking for an <b>Intern role</b> (Backend / Full-Stack / Android / Database / IoT). <br/>
<i class="fa-solid fa-check"></i> I enjoy teamwork, learning fast, and delivering stable features with good UI + clean backend logic.

      </p>
    </div>
  </div>
</section>

<section id="highlights">
  <div class="section-container">
    <div class="section-header">
      <div class="section-label">Highlights</div>
      <h2>What I Do Best ‚ú®</h2>
      <p>Quick view of my strongest areas</p>
    </div>

    <div class="grid">
      <div class="card highlight-card">
        <h3><i class="fas fa-server"></i> Backend & APIs</h3>
        <p>REST APIs, Spring Boot microservices, clean communication, Postman testing.</p>
      </div>
      <div class="card highlight-card">
        <h3><i class="fas fa-database"></i> Databases</h3>
        <p>Oracle / MySQL / SQLite / SQL Server, PL/SQL triggers, normalized schemas.</p>
      </div>
      <div class="card highlight-card">
        <h3><i class="fas fa-mobile-screen-button"></i> Android Apps</h3>
        <p>Java Android apps with Firebase + SQLite + Google Maps and smooth flows.</p>
      </div>
      <div class="card highlight-card">
        <h3><i class="fas fa-microchip"></i> IoT Systems</h3>
        <p>Arduino + ESP8266 + sensors, Firebase data push, dashboards, alert logic.</p>
      </div>
    </div>
  </div>
</section>

<section id="skills">
  <div class="section-container">
    <div class="section-header">
      <div class="section-label">Technical Skills</div>
      <h2>Tech Stack & Expertise üß†</h2>
      <p>Now with skill bars (auto-animate when visible)</p>
    </div>

    <div class="skills-grid">
      <div class="card skill-card">
        <h3><i class="fas fa-code"></i> Languages</h3>
        <ul class="pills"><li>Java</li><li>PHP</li><li>C#</li><li>JavaScript</li><li>Python</li><li>C++</li><li>SQL / PL-SQL</li></ul>
        <div class="skill-bars" data-bars>
          <div class="bar-row"><div class="bar-top"><span>Java</span><span>85%</span></div><div class="track"><div class="fill" data-fill="85"></div></div></div>
          <div class="bar-row"><div class="bar-top"><span>Spring Boot</span><span>75%</span></div><div class="track"><div class="fill" data-fill="75"></div></div></div>
          <div class="bar-row"><div class="bar-top"><span>SQL / PL-SQL</span><span>80%</span></div><div class="track"><div class="fill" data-fill="80"></div></div></div>
        </div>
      </div>

      <div class="card skill-card">
        <h3><i class="fas fa-layer-group"></i> Frameworks</h3>
        <ul class="pills"><li>Spring Boot</li><li>React.js</li><li>Android SDK</li><li>Node.js</li><li>Express.js</li><li>Bootstrap</li></ul>
        <div class="skill-bars" data-bars>
          <div class="bar-row"><div class="bar-top"><span>React</span><span>70%</span></div><div class="track"><div class="fill" data-fill="70"></div></div></div>
          <div class="bar-row"><div class="bar-top"><span>Android</span><span>72%</span></div><div class="track"><div class="fill" data-fill="72"></div></div></div>
          <div class="bar-row"><div class="bar-top"><span>Node/Express</span><span>65%</span></div><div class="track"><div class="fill" data-fill="65"></div></div></div>
        </div>
      </div>

      <div class="card skill-card">
        <h3><i class="fas fa-database"></i> Databases</h3>
        <ul class="pills"><li>Oracle</li><li>MySQL</li><li>SQLite</li><li>Firebase</li><li>MongoDB</li><li>SQL Server</li></ul>
        <div class="skill-bars" data-bars>
          <div class="bar-row"><div class="bar-top"><span>Oracle</span><span>82%</span></div><div class="track"><div class="fill" data-fill="82"></div></div></div>
          <div class="bar-row"><div class="bar-top"><span>MySQL</span><span>75%</span></div><div class="track"><div class="fill" data-fill="75"></div></div></div>
          <div class="bar-row"><div class="bar-top"><span>Firebase</span><span>70%</span></div><div class="track"><div class="fill" data-fill="70"></div></div></div>
        </div>
      </div>

      <div class="card skill-card">
        <h3><i class="fas fa-tools"></i> Tools & Concepts</h3>
        <ul class="pills"><li>Git</li><li>GitHub</li><li>Postman</li><li>Microservices</li><li>SOLID</li><li>Clean Code</li></ul>
        <div class="skill-bars" data-bars>
          <div class="bar-row"><div class="bar-top"><span>Git/GitHub</span><span>80%</span></div><div class="track"><div class="fill" data-fill="80"></div></div></div>
          <div class="bar-row"><div class="bar-top"><span>APIs</span><span>78%</span></div><div class="track"><div class="fill" data-fill="78"></div></div></div>
          <div class="bar-row"><div class="bar-top"><span>UI/UX</span><span>68%</span></div><div class="track"><div class="fill" data-fill="68"></div></div></div>
        </div>
      </div>
    </div>
  </div>
</section>

<section id="projects">
  <div class="section-container">
    <div class="section-header">
      <div class="section-label">Portfolio</div>
      <h2>Featured Projects üß©</h2>
      <p>Search + filter projects, and click a card to view screenshots</p>
    </div>

    <div class="projects-top">
      <div class="search">
        <i class="fas fa-magnifying-glass"></i>
        <input id="projectSearch" placeholder="Search projects (ex: Spring, Android, IoT)..." />
      </div>

      <div class="filters" id="filters">
        <button class="chip active" data-filter="all">All</button>
        <button class="chip" data-filter="web">Web</button>
        <button class="chip" data-filter="android">Android</button>
        <button class="chip" data-filter="iot">IoT</button>
        <button class="chip" data-filter="microservices">Microservices</button>
        <button class="chip" data-filter="desktop">Desktop</button>
      </div>
    </div>

    <div class="projects-grid" id="projectsGrid">
      <!-- Each project has: data-tags + dataset for modal -->
      <div class="card project-card" data-tags="web database" data-title="Personal Financial Management System"
           data-img="project1.png"
           data-desc="Budgeting and reporting with Oracle/SQLite sync, PL/SQL automation, and structured database design."
           data-tech="PHP, Oracle, SQLite, PL/SQL, Cloud Sync"
           data-github="https://github.com/kosaladathapththu/Personal-Financial-System">
        <div class="project-number">01</div>
        <h3>Personal Financial Management System</h3>
        <div class="project-tech">PHP | Oracle | SQLite | PL/SQL</div>
        <ul>
          <li>Budgeting + reporting modules</li>
          <li>PL/SQL procedures + triggers</li>
          <li>Cloud sync mechanism</li>
        </ul>
        <div class="project-actions">
          <a class="link" href="https://github.com/kosaladathapththu/Personal-Financial-System" target="_blank" rel="noopener">
            GitHub <i class="fas fa-arrow-right"></i>
          </a>
          <a class="small-btn" href="#contactFormSection"><i class="fas fa-paper-plane"></i> Hire Me</a>
        </div>
      </div>

      <div class="card project-card" data-tags="web microservices" data-title="Hotel Management System"
           data-img="project2.png"
           data-desc="Microservices-based hotel system with React UI, booking workflows, and clean API separation."
           data-tech="Spring Boot, React, MySQL, Microservices"
           data-github="https://github.com/kosaladathapththu/Hotel-Management-System">
        <div class="project-number">02</div>
        <h3>Hotel Management System</h3>
        <div class="project-tech">Spring Boot | React | MySQL | Microservices</div>
        <ul>
          <li>5 microservices + UI service</li>
          <li>Room + booking workflows</li>
          <li>Clean API separation</li>
        </ul>
        <div class="project-actions">
          <a class="link" href="https://github.com/kosaladathapththu/Hotel-Management-System" target="_blank" rel="noopener">
            GitHub <i class="fas fa-arrow-right"></i>
          </a>
          <a class="small-btn" href="#contactFormSection"><i class="fas fa-paper-plane"></i> Hire Me</a>
        </div>
      </div>

      <div class="card project-card" data-tags="web" data-title="Hostel Management System"
           data-img="project3.png"
           data-desc="PHP + MySQL hostel system with management modules and reporting features."
           data-tech="PHP, MySQL, HTML, CSS"
           data-github="https://github.com/kosaladathapththu/Hostel-Management-System">
        <div class="project-number">03</div>
        <h3>Hostel Management System</h3>
        <div class="project-tech">PHP | MySQL | HTML | CSS</div>
        <ul>
          <li>CRUD + management screens</li>
          <li>Structured MySQL tables</li>
          <li>Reports + inventory</li>
        </ul>
        <div class="project-actions">
          <a class="link" href="https://github.com/kosaladathapththu/Hostel-Management-System" target="_blank" rel="noopener">
            GitHub <i class="fas fa-arrow-right"></i>
          </a>
          <a class="small-btn" href="#contactFormSection"><i class="fas fa-paper-plane"></i> Hire Me</a>
        </div>
      </div>

      <div class="card project-card" data-tags="android" data-title="PizzaMania Android App"
           data-img="project4.png"
           data-desc="Android ordering app with Firebase cart updates, Maps branch detection, and admin workflows."
           data-tech="Java, Firebase, SQLite, Google Maps"
           data-github="https://github.com/kosaladathapththu/PizzaMania">
        <div class="project-number">04</div>
        <h3>PizzaMania Android App</h3>
        <div class="project-tech">Java | Firebase | SQLite | Maps</div>
        <ul>
          <li>Real-time cart updates</li>
          <li>Google Maps branch detection</li>
          <li>Admin workflows</li>
        </ul>
        <div class="project-actions">
          <a class="link" href="https://github.com/kosaladathapththu/PizzaMania" target="_blank" rel="noopener">
            GitHub <i class="fas fa-arrow-right"></i>
          </a>
          <a class="small-btn" href="#contactFormSection"><i class="fas fa-paper-plane"></i> Hire Me</a>
        </div>
      </div>

      <div class="card project-card" data-tags="iot" data-title="Landslide Early Warning System"
           data-img="project5.png"
           data-desc="IoT prototype with sensor readings pushed to Firebase and dashboard-based warning logic."
           data-tech="Arduino, ESP8266, MPU6050, Firebase, IoT"
           data-github="https://github.com/kosaladathapththu/Landslide_Ditection-IOT">
        <div class="project-number">05</div>
        <h3>Landslide Early Warning System</h3>
        <div class="project-tech">Arduino | ESP8266 | Firebase | IoT</div>
        <ul>
          <li>Real-time sensor push</li>
          <li>Dashboard monitoring</li>
          <li>Warning decision logic</li>
        </ul>
        <div class="project-actions">
          <a class="link" href="https://github.com/kosaladathapththu/Landslide_Ditection-IOT" target="_blank" rel="noopener">
            GitHub <i class="fas fa-arrow-right"></i>
          </a>
          <a class="small-btn" href="#contactFormSection"><i class="fas fa-paper-plane"></i> Hire Me</a>
        </div>
      </div>

      <div class="card project-card" data-tags="iot" data-title="River Trash Collector Robot"
           data-img="project6.png"
           data-desc="Arduino robot that detects obstacles and collects floating trash using servo mechanisms and weight sensing."
           data-tech="Arduino, Ultrasonic, Servo, HX711, C++"
           data-github="https://github.com/kosaladathapththu/Trash-Collecting-Robot-For--River">
        <div class="project-number">06</div>
        <h3>River Trash Collector Robot</h3>
        <div class="project-tech">Arduino | Ultrasonic | Servo | HX711</div>
        <ul>
          <li>Obstacle detection</li>
          <li>Weight sensing + LCD</li>
          <li>Prototype testing</li>
        </ul>
        <div class="project-actions">
          <a class="link" href="https://github.com/kosaladathapththu/Trash-Collecting-Robot-For--River" target="_blank" rel="noopener">
            GitHub <i class="fas fa-arrow-right"></i>
          </a>
          <a class="small-btn" href="#contactFormSection"><i class="fas fa-paper-plane"></i> Hire Me</a>
        </div>
      </div>

      <div class="card project-card" data-tags="desktop" data-title="Library Management System"
           data-img="project7.png"
           data-desc="C# desktop system with CRUD workflows for books and members, issue/return tracking, and validations."
           data-tech="C#, SQL Server"
           data-github="https://github.com/kosaladathapththu/LibraryManagementSystem">
        <div class="project-number">07</div>
        <h3>Library Management System</h3>
        <div class="project-tech">C# | SQL Server</div>
        <ul>
          <li>Books + members CRUD</li>
          <li>Issue/return tracking</li>
          <li>Validations</li>
        </ul>
        <div class="project-actions">
          <a class="link" href="https://github.com/kosaladathapththu/LibraryManagementSystem" target="_blank" rel="noopener">
            GitHub <i class="fas fa-arrow-right"></i>
          </a>
          <a class="small-btn" href="#contactFormSection"><i class="fas fa-paper-plane"></i> Hire Me</a>
        </div>
      </div>

    </div>
  </div>
</section>

<section id="education">
  <div class="section-container">
    <div class="section-header">
      <div class="section-label">Education</div>
      <h2>Academic Journey üéì</h2>
    </div>

    <div class="timeline">
      <div class="card edu-item" style="position:relative">
        <div class="edu-title">Higher National Diploma in Software Engineering</div>
        <div class="edu-school">NIBM (National Institute of Business Management)</div>
        <div class="edu-year">2024 ‚Äì Present</div>
      </div>
      <div class="card edu-item" style="position:relative">
        <div class="edu-title">Diploma in Software Engineering</div>
        <div class="edu-school">NIBM (National Institute of Business Management)</div>
        <div class="edu-year">2023 ‚Äì 2024</div>
      </div>
      <div class="card edu-item" style="position:relative">
        <div class="edu-title">G.C.E. Advanced Level (Physical Science)</div>
        <div class="edu-school">Wariyapola Sri Sumangala M.M.V</div>
        <div class="edu-year">Results: <b>1 C</b> and <b>2 S</b></div>
      </div>
      <div class="card edu-item" style="position:relative">
        <div class="edu-title">G.C.E. Ordinary Level (O/L)</div>
        <div class="edu-school">Wariyapola Sri Sumangala M.M.V</div>
        <div class="edu-year">Results: <b>7 A</b> and <b>2 B</b></div>
      </div>
    </div>
  </div>
</section>

<section id="certifications">
  <div class="section-container">
    <div class="section-header">
      <div class="section-label">Certifications</div>
      <h2>Professional Credentials üèÖ</h2>
      <p>Same list (you can add more easily)</p>
    </div>

    <div class="certs-grid">
      <div class="card cert-item"><i class="fas fa-certificate"></i><div><strong>Oracle Data Platform 2025 Certified Foundations Associate</strong>Oracle ‚Äî Issued Dec 2025</div></div>
      <div class="card cert-item"><i class="fas fa-certificate"></i><div><strong>Graphic Design Workshop</strong>ZeroPlastic in NIBM ‚Äî Issued Aug 2025</div></div>
      <div class="card cert-item"><i class="fas fa-certificate"></i><div><strong>Developing Microsoft Azure Solutions</strong>Microsoft Learn Student Ambassadors (Sri Lanka) ‚Äî Issued Jul 2025</div></div>
      <div class="card cert-item"><i class="fas fa-certificate"></i><div><strong>HRXTech</strong>University of Moratuwa ‚Äî Issued Jul 2025</div></div>
      <div class="card cert-item"><i class="fas fa-certificate"></i><div><strong>Microsoft Azure</strong>Microsoft Learn Student Ambassadors ‚Äî Issued Jul 2025</div></div>
      <div class="card cert-item"><i class="fas fa-certificate"></i><div><strong>MCP Server using .NET</strong>Microsoft Learn Student Ambassadors ‚Äî Issued Jun 2025</div></div>
      <div class="card cert-item"><i class="fas fa-certificate"></i><div><strong>AI for Beginners</strong>HP LIFE ‚Äî Issued Jan 2025</div></div>
      <div class="card cert-item"><i class="fas fa-certificate"></i><div><strong>Agile Project Management Foundation</strong>LinkedIn ‚Äî Issued Jan 2025</div></div>
      <div class="card cert-item"><i class="fas fa-certificate"></i><div><strong>Chatbot Development With Azure AI Foundry</strong>Microsoft Learn Student Ambassadors ‚Äî Issued Jan 2025</div></div>
      <div class="card cert-item"><i class="fas fa-certificate"></i><div><strong>HackerRank SQL Basics</strong>HackerRank ‚Äî Issued Jan 2025</div></div>
      <div class="card cert-item"><i class="fas fa-certificate"></i><div><strong>Java Basics (HackerRank)</strong>HackerRank ‚Äî Issued Jan 2025</div></div>
      <div class="card cert-item"><i class="fas fa-certificate"></i><div><strong>Postman API 102</strong>Postman ‚Äî Issued Jan 2025</div></div>
      <div class="card cert-item"><i class="fas fa-certificate"></i><div><strong>Web Development</strong>SoloLearn ‚Äî Issued Jan 2025</div></div>
    </div>
  </div>
</section>

<section id="contactFormSection">
  <div class="section-container">
    <div class="section-header">
      <div class="section-label">Contact</div>
      <h2>Send a Message üí¨</h2>
      <p>Messages delivered via FormSubmit</p>
    </div>

    <div class="form-wrap">
      <div class="card form-card">
        <form action="https://formsubmit.co/kosalaathapaththu1234@gmail.com" method="POST">
          <div class="form-grid">
            <div class="form-group">
              <label>Your Name</label>
              <input type="text" name="name" required placeholder="Your name">
            </div>
            <div class="form-group">
              <label>Your Email</label>
              <input type="email" name="email" required placeholder="Your email">
            </div>
          </div>

          <div class="form-group" style="margin-top:1rem">
            <label>Message</label>
            <textarea name="message" required placeholder="Write your message"></textarea>
          </div>

          <input type="hidden" name="_subject" value="New message from Kosala Portfolio">
          <input type="hidden" name="_captcha" value="false">
          <input type="hidden" name="_template" value="table">

          <div class="form-actions">
            <button class="btn btn-primary" type="submit"><i class="fas fa-paper-plane"></i> Send</button>
            <a class="btn btn-secondary" href="mailto:kosalaathapaththu1234@gmail.com"><i class="fas fa-envelope"></i> Email Direct</a>
          </div>

          <div class="note">‚úÖ After clicking Send, it will open a FormSubmit page and send the email.</div>
        </form>
      </div>
    </div>
  </div>
</section>

<footer>
  <div class="footer-content">
    <div class="socials">
      <a href="https://github.com/kosaladathapththu" target="_blank" rel="noopener" title="GitHub"><i class="fab fa-github"></i></a>
      <a href="https://www.linkedin.com/in/kosala-d-athapaththu-a453b9248/" target="_blank" rel="noopener" title="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
      <a href="https://x.com/KAthapathtu" target="_blank" rel="noopener" title="X / Twitter"><i class="fab fa-twitter"></i></a>
      <a href="https://wa.me/94719148762" target="_blank" rel="noopener" title="WhatsApp"><i class="fab fa-whatsapp"></i></a>
      <a href="https://t.me/+94719148762" target="_blank" rel="noopener" title="Telegram"><i class="fab fa-telegram"></i></a>
    </div>
    <p>Email: <a href="mailto:kosalaathapaththu1234@gmail.com">kosalaathapaththu1234@gmail.com</a></p>
    <p>Colombo, Sri Lanka</p>
    <p style="margin-top:1rem">¬© <span id="year"></span> Kosala Daneshwara Athapaththu ‚Äî Portfolio Website</p>
  </div>
</footer>

<button class="to-top" id="toTop" aria-label="Back to top"><i class="fas fa-arrow-up"></i></button>

<!-- PROJECT MODAL -->
<div class="modal" id="projectModal" aria-hidden="true">
  <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <div class="modal-top">
      <h3 id="modalTitle">Project</h3>
      <button class="modal-close" id="modalClose" aria-label="Close"><i class="fas fa-xmark"></i></button>
    </div>
    <div class="modal-body">
      <div class="modal-img"><img id="modalImg" src="" alt="Project Screenshot"></div>
      <div class="modal-info">
        <p id="modalDesc"></p>
        <div class="badges" id="modalBadges"></div>
        <div style="margin-top:1rem;display:flex;gap:.6rem;flex-wrap:wrap">
          <a class="small-btn" id="modalGithub" href="#" target="_blank" rel="noopener"><i class="fab fa-github"></i> GitHub</a>
          <a class="small-btn" href="#contactFormSection"><i class="fas fa-paper-plane"></i> Contact</a>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
/* ===================== NAV SCROLL EFFECT ===================== */
const navbar = document.getElementById("navbar");
window.addEventListener("scroll", () => {
  if (window.scrollY > 40) navbar.classList.add("scrolled");
  else navbar.classList.remove("scrolled");
});

/* ===================== MOBILE MENU ===================== */
const menuToggle = document.getElementById("menuToggle");
const navLinks = document.getElementById("navLinks");

menuToggle.addEventListener("click", () => {
  navLinks.classList.toggle("active");
  const icon = menuToggle.querySelector("i");
  icon.classList.toggle("fa-bars");
  icon.classList.toggle("fa-xmark");
});

// close menu on link click
document.querySelectorAll("[data-link]").forEach(a=>{
  a.addEventListener("click", ()=>{
    navLinks.classList.remove("active");
    const icon = menuToggle.querySelector("i");
    icon.classList.add("fa-bars");
    icon.classList.remove("fa-xmark");
  });
});

/* ===================== YEAR ===================== */
document.getElementById("year").textContent = new Date().getFullYear();

/* ===================== THEME TOGGLE ===================== */
const themeToggle = document.getElementById("themeToggle");
const savedTheme = localStorage.getItem("theme");
if (savedTheme === "light") {
  document.body.classList.add("light");
  themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
}
themeToggle.addEventListener("click", () => {
  document.body.classList.toggle("light");
  const isLight = document.body.classList.contains("light");
  localStorage.setItem("theme", isLight ? "light" : "dark");
  themeToggle.innerHTML = isLight ? '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';
});

/* ===================== SCROLL PROGRESS ===================== */
const progress = document.getElementById("progress");
window.addEventListener("scroll", () => {
  const h = document.documentElement;
  const scrolled = (h.scrollTop) / (h.scrollHeight - h.clientHeight) * 100;
  progress.style.width = scrolled + "%";
});

/* ===================== ACTIVE NAV LINK ===================== */
const sections = [...document.querySelectorAll("section")];
const navA = [...document.querySelectorAll(".nav-links a")];

const setActive = () => {
  const y = window.scrollY + 140;
  let current = sections[0].id;
  for (const s of sections) {
    if (y >= s.offsetTop) current = s.id;
  }
  navA.forEach(a => {
    a.classList.toggle("active", a.getAttribute("href") === "#" + current);
  });
};
window.addEventListener("scroll", setActive);
setActive();

/* ===================== BACK TO TOP ===================== */
const toTop = document.getElementById("toTop");
window.addEventListener("scroll", () => {
  toTop.classList.toggle("show", window.scrollY > 600);
});
toTop.addEventListener("click", () => window.scrollTo({top:0, behavior:"smooth"}));

/* ===================== PROJECT MODAL ===================== */
const modal = document.getElementById("projectModal");
const modalTitle = document.getElementById("modalTitle");
const modalImg = document.getElementById("modalImg");
const modalDesc = document.getElementById("modalDesc");
const modalBadges = document.getElementById("modalBadges");
const modalGithub = document.getElementById("modalGithub");

const openModal = (card) => {
  modalTitle.textContent = card.dataset.title || "Project";
  modalImg.src = card.dataset.img || "";
  modalDesc.textContent = card.dataset.desc || "";
  modalGithub.href = card.dataset.github || "#";
  modalBadges.innerHTML = "";
  (card.dataset.tech || "")
    .split(",").map(x=>x.trim()).filter(Boolean)
    .forEach(t=>{
      const b = document.createElement("span");
      b.textContent = t;
      modalBadges.appendChild(b);
    });

  modal.classList.add("active");
  modal.setAttribute("aria-hidden","false");
  document.body.style.overflow = "hidden";
};

const closeModal = () => {
  modal.classList.remove("active");
  modal.setAttribute("aria-hidden","true");
  document.body.style.overflow = "";
};

document.querySelectorAll(".project-card").forEach(card=>{
  card.addEventListener("click", (e)=>{
    if (e.target.closest("a")) return;
    openModal(card);
  });
});
document.getElementById("modalClose").addEventListener("click", closeModal);
modal.addEventListener("click", (e)=>{ if(e.target === modal) closeModal(); });
document.addEventListener("keydown", (e)=>{ if(e.key === "Escape") closeModal(); });

/* ===================== PROJECT FILTER + SEARCH ===================== */
const searchInput = document.getElementById("projectSearch");
const chips = [...document.querySelectorAll(".chip")];
const projects = [...document.querySelectorAll(".project-card")];

let activeFilter = "all";

function applyFilters(){
  const q = (searchInput.value || "").toLowerCase().trim();

  projects.forEach(p=>{
    const tags = (p.dataset.tags || "").toLowerCase();
    const text = (p.innerText || "").toLowerCase();
    const passFilter = activeFilter === "all" || tags.includes(activeFilter);
    const passSearch = !q || text.includes(q);
    p.style.display = (passFilter && passSearch) ? "" : "none";
  });
}

chips.forEach(c=>{
  c.addEventListener("click", ()=>{
    chips.forEach(x=>x.classList.remove("active"));
    c.classList.add("active");
    activeFilter = c.dataset.filter;
    applyFilters();
  });
});
searchInput.addEventListener("input", applyFilters);

/* ===================== SKILL BARS (animate on view) ===================== */
const barGroups = document.querySelectorAll("[data-bars]");
const io = new IntersectionObserver((entries)=>{
  entries.forEach(en=>{
    if(!en.isIntersecting) return;
    en.target.querySelectorAll("[data-fill]").forEach(f=>{
      const v = Math.max(0, Math.min(100, Number(f.dataset.fill || 0)));
      f.style.width = v + "%";
    });
    io.unobserve(en.target);
  });
},{threshold:.3});

barGroups.forEach(g=>io.observe(g));
</script>
</body>
</html>
